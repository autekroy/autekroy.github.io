<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ÊÑüÊÅ©ÁØÄ‰πãÊóÖ">
    
    <!-- Icon -->
    <link rel="apple-touch-icon" href="https://img.icons8.com/color/480/grand-canyon.png">
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --theme-color: #D35400;
            --text-primary: #1c1c1e;
            --text-secondary: #8e8e93;
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
            --card-blur: rgba(255, 255, 255, 0.85);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.04);
            --shadow-md: 0 8px 24px rgba(0,0,0,0.08);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
            background-color: #000;
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        /* --- Animations --- */
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-item {
            opacity: 0;
            animation: fadeUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        .animate-item:nth-child(1) { animation-delay: 0.05s; }
        .animate-item:nth-child(2) { animation-delay: 0.1s; }
        .animate-item:nth-child(3) { animation-delay: 0.15s; }
        .animate-item:nth-child(4) { animation-delay: 0.2s; }
        .animate-item:nth-child(5) { animation-delay: 0.25s; }

        /* --- Backgrounds --- */
        .bg-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .bg-image {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            transition: opacity 0.8s ease; opacity: 0; transform: scale(1.05);
        }
        .bg-image.active { opacity: 1; transform: scale(1); transition: opacity 0.8s ease, transform 10s linear; }
        .bg-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.5) 40%, rgba(242,242,247,0.92) 100%);
            z-index: 0;
            backdrop-filter: blur(2px);
        }

        /* --- Header --- */
        header {
            padding: calc(var(--safe-top) + 10px) 20px 10px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            border-bottom: 0.5px solid rgba(0,0,0,0.05);
            position: absolute; top: 0; left: 0; width: 100%; z-index: 10;
            display: flex; justify-content: space-between; align-items: flex-start;
            transition: all 0.3s;
        }
        
        .header-left h1 { font-size: 28px; font-weight: 800; margin: 0; letter-spacing: -0.5px; color: #000; }
        .header-left .subtitle { 
            font-size: 13px; color: var(--theme-color); font-weight: 700; 
            margin-top: 4px; text-transform: uppercase; letter-spacing: 1px; 
            transition: color 0.3s ease;
        }

        .weather-widget {
            text-align: right; background: rgba(255,255,255,0.5); padding: 6px 12px; border-radius: 14px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05); display: flex; flex-direction: column; align-items: flex-end;
            border: 1px solid rgba(255,255,255,0.4);
            transition: opacity 0.3s ease, visibility 0.3s;
        }
        .weather-temp { font-size: 20px; font-weight: 700; color: #333; line-height: 1; }
        .weather-loc { font-size: 10px; color: #666; margin-top: 3px; font-weight: 600; text-transform: uppercase; }

        #countdown-banner {
            font-size: 11px; font-weight: 600; color: #fff; background: var(--theme-color);
            padding: 4px 10px; border-radius: 20px; margin-top: 5px; display: inline-block;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); opacity: 0; animation: fadeUp 0.5s 0.5s forwards;
            transition: background-color 0.3s ease;
        }

        /* --- Content --- */
        .content-area {
            height: 100%; 
            overflow-y: auto;
            overscroll-behavior: contain; 
            padding: calc(var(--safe-top) + 100px) 20px calc(var(--safe-bottom) + 80px);
            -webkit-overflow-scrolling: touch;
            display: none; opacity: 0; transition: opacity 0.4s ease;
        }
        .content-area.active { display: block; opacity: 1; }

        /* --- Weather Chart --- */
        .weather-detail-card {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 24px; padding: 20px 15px; margin-bottom: 20px;
            color: white; box-shadow: 0 10px 30px -10px rgba(0,0,0,0.3);
            position: relative; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .wd-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 10px; padding: 0 5px; }
        .wd-title { font-weight: 700; font-size: 16px; display: flex; align-items: center; gap: 8px; }
        .wd-info { text-align: right; font-size: 12px; font-weight: 600; opacity: 0.9; }
        
        .wd-chart-container { width: 100%; height: 150px; position: relative; margin-top: 10px; }
        .wd-chart-svg { width: 100%; height: 100%; overflow: visible; display: block; }
        .chart-area { fill: rgba(255,255,255,0.15); }
        .chart-line {
            fill: none; stroke: white; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round;
            filter: drop-shadow(0px 3px 3px rgba(0,0,0,0.1));
        }
        .chart-dot { fill: white; stroke: rgba(0,0,0,0.1); stroke-width: 2px; }
        .chart-text { font-size: 11px; fill: white; font-weight: 700; text-anchor: middle; text-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .chart-label { font-size: 10px; fill: rgba(255,255,255,0.8); text-anchor: middle; font-weight: 500; }

        /* --- Scrollers --- */
        .day-scroller-container {
            position: sticky; top: 0; margin: -10px -20px 20px; padding: 15px 20px 10px;
            background: rgba(255,255,255,0.7); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            z-index: 5; border-bottom: 0.5px solid rgba(0,0,0,0.05);
            mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
        }
        .day-scroller { display: flex; overflow-x: auto; gap: 10px; padding-bottom: 10px; scrollbar-width: none; }
        .day-scroller::-webkit-scrollbar { display: none; }
        
        .day-chip {
            flex: 0 0 auto; display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-width: 68px; height: 64px; background: rgba(255,255,255,0.8); border-radius: 18px;
            font-size: 12px; color: var(--text-secondary); transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: var(--shadow-sm); border: 1px solid rgba(255,255,255,0.5);
        }
        .day-chip span.d-date { font-size: 20px; font-weight: 800; color: #1c1c1e; margin-bottom: 2px; }
        .day-chip span.d-week { font-weight: 500; font-size: 11px; opacity: 0.8; }
        
        .day-chip.active {
            background: var(--theme-color); color: white; 
            box-shadow: 0 8px 20px -5px var(--theme-color); 
            transform: translateY(-2px) scale(1.05); border-color: transparent;
        }
        .day-chip.active span.d-date { color: white; }
        
        .guide-chip {
            flex: 0 0 auto; padding: 0 20px; height: 44px; 
            display: flex; align-items: center; justify-content: center;
            background: rgba(255,255,255,0.8); border-radius: 22px;
            font-size: 14px; font-weight: 700; color: var(--text-secondary);
            box-shadow: var(--shadow-sm); border: 1px solid rgba(255,255,255,0.5); transition: all 0.3s;
        }
        .guide-chip.active { 
            background: var(--theme-color); color: white; 
            box-shadow: 0 6px 15px -4px var(--theme-color); transform: translateY(-1px); 
        }

        /* --- New Compact Map Button --- */
        .map-btn-compact {
            display: flex; align-items: center; justify-content: center; gap: 8px;
            width: 100%; padding: 14px; margin-bottom: 15px;
            background: rgba(255,255,255,0.6); border-radius: 18px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.5);
            color: var(--theme-color); font-weight: 700; font-size: 15px;
            text-decoration: none; box-shadow: var(--shadow-sm);
            transition: transform 0.2s, background 0.2s;
        }
        .map-btn-compact:active { transform: scale(0.98); background: rgba(255,255,255,0.8); }

        /* --- Card & Items --- */
        .card {
            background: var(--card-blur); backdrop-filter: blur(30px); -webkit-backdrop-filter: blur(30px);
            border-radius: 24px; padding: 0; margin-bottom: 16px;
            box-shadow: var(--shadow-md); overflow: hidden;
            border: 1px solid rgba(255,255,255,0.4);
        }

        .place-item {
            padding: 22px 20px; border-bottom: 1px solid rgba(0,0,0,0.05); position: relative;
            transition: background 0.2s; cursor: pointer;
        }
        .place-item:active { background: rgba(0,0,0,0.03); }
        .place-item:last-child { border-bottom: none; }
        .place-item::after {
            content: '‚Ä∫'; position: absolute; right: 20px; top: 50%; transform: translateY(-50%);
            font-size: 22px; color: #c7c7cc; font-weight: 600;
        }
        .place-item.no-arrow::after { display: none; }

        .place-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; padding-right: 20px; }
        .place-name { font-weight: 700; font-size: 18px; color: #1c1c1e; flex: 1; letter-spacing: -0.3px; }
        
        .place-tag { 
            font-size: 11px; background: var(--theme-color); padding: 5px 10px; border-radius: 10px; 
            color: white; font-weight: 700; white-space: nowrap; margin-left: 10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        .place-tag.secondary { background: #e5e5ea; color: #666; box-shadow: none; }
        .place-tag.highlight { background: #007AFF; color: white; box-shadow: 0 2px 6px rgba(0,122,255,0.3); }
        
        .place-desc { font-size: 15px; color: #666; line-height: 1.5; margin: 0; padding-right: 15px; }
        .hotel-date { font-size: 13px; color: #8e8e93; margin-top: 6px; display: block; font-weight: 600; }

        /* --- Packing List Styles --- */
        .packing-header {
            padding: 20px 20px 10px;
        }
        .progress-container {
            width: 100%; height: 8px; background: #e5e5ea; border-radius: 4px; overflow: hidden; margin-top: 10px;
        }
        .progress-bar {
            height: 100%; background: #34C759; width: 0%; transition: width 0.3s ease;
        }
        .progress-text {
            font-size: 13px; color: #8e8e93; font-weight: 600; margin-top: 8px; display: flex; justify-content: space-between;
        }
        
        .checkbox-item {
            display: flex; align-items: center; padding: 16px 20px; cursor: pointer; border-bottom: 1px solid rgba(0,0,0,0.05);
            transition: background 0.2s;
        }
        .checkbox-item:last-child { border-bottom: none; }
        .checkbox-item:active { background: rgba(0,0,0,0.02); }
        
        .custom-checkbox {
            width: 24px; height: 24px; border-radius: 6px; border: 2px solid #c7c7cc; margin-right: 15px;
            display: flex; align-items: center; justify-content: center; transition: all 0.2s;
        }
        .checkbox-item.checked .custom-checkbox {
            background: #34C759; border-color: #34C759;
        }
        .checkbox-item.checked .place-name {
            color: #aeaeb2; text-decoration: line-through;
        }
        .check-icon { color: white; opacity: 0; transform: scale(0.5); transition: all 0.2s; }
        .checkbox-item.checked .check-icon { opacity: 1; transform: scale(1); }

        /* --- Flight & Shuttle --- */
        .flight-time-row {
            display: flex; justify-content: space-between; align-items: center;
            margin: 18px 0; padding: 12px 0; border-top: 1px dashed rgba(0,0,0,0.1); border-bottom: 1px dashed rgba(0,0,0,0.1);
        }
        .flight-time-col { text-align: center; flex: 1; }
        .ft-label { font-size: 11px; color: #8e8e93; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 6px; font-weight: 600; }
        .ft-time { font-size: 22px; font-weight: 800; color: #1c1c1e; font-variant-numeric: tabular-nums; }
        .ft-icon { color: #d1d1d6; margin: 0 10px; }
        
        .lounge-info {
            background: #f2f2f7; padding: 14px; border-radius: 16px; margin-top: 12px; display: flex; gap: 12px; align-items: flex-start;
        }
        .lounge-text { font-size: 13px; color: #444; line-height: 1.5; font-weight: 500; }
        .lounge-badge { background: #002663; color: white; font-size: 10px; padding: 3px 8px; border-radius: 6px; font-weight: 800; display: inline-block; margin-bottom: 4px; }
        
        .shuttle-block { padding: 24px; background: transparent; }
        .shuttle-title { display: flex; align-items: center; gap: 8px; font-weight: 700; color: var(--theme-color); margin-bottom: 16px; font-size: 16px; }
        .shuttle-container { background: rgba(255,255,255,0.6); border-radius: 16px; padding: 16px; margin-bottom: 12px; border: 1px solid rgba(255,255,255,0.5); }

        /* --- Modal --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3);
            z-index: 100; opacity: 0; visibility: hidden; transition: all 0.3s;
            backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
        }
        .modal-overlay.open { opacity: 1; visibility: visible; }
        .modal-sheet {
            position: absolute; bottom: 0; left: 0; width: 100%; background: #fff;
            border-radius: 30px 30px 0 0; padding: 30px 25px 60px;
            transform: translateY(100%); transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
            max-height: 85vh; overflow-y: auto;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.1);
        }
        .modal-overlay.open .modal-sheet { transform: translateY(0); }
        .modal-handle { width: 40px; height: 5px; background: #e5e5ea; border-radius: 10px; margin: -10px auto 30px; }
        .modal-title { font-size: 26px; font-weight: 800; margin-bottom: 15px; color: #000; line-height: 1.2; }
        .modal-desc { font-size: 17px; color: #3a3a3c; line-height: 1.6; white-space: pre-wrap; font-weight: 400; }
        .modal-close-btn {
            position: absolute; top: 25px; right: 25px; background: #f2f2f7; border: none; 
            width: 32px; height: 32px; border-radius: 50%; font-size: 20px; 
            color: #3c3c43; display: flex; align-items: center; justify-content: center;
            cursor: pointer;
        }

        /* --- Tab Bar --- */
        .tab-bar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: rgba(255,255,255,0.85); backdrop-filter: blur(30px) saturate(180%); -webkit-backdrop-filter: blur(30px) saturate(180%);
            border-top: 0.5px solid rgba(0,0,0,0.15); display: flex; justify-content: space-around;
            padding-bottom: var(--safe-bottom); height: calc(60px + var(--safe-bottom)); z-index: 20;
        }
        .tab-item {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: #999; font-size: 10px; gap: 4px; cursor: pointer; transition: all 0.2s;
        }
        .tab-item.active { color: var(--theme-color); transform: translateY(-2px); }
        .tab-item.active svg { stroke-width: 2.5px; }

        .btn-action {
            display: inline-flex; align-items: center; gap: 8px; background: #f2f2f7; color: var(--theme-color); 
            padding: 10px 20px; border-radius: 14px; font-size: 15px; font-weight: 600; text-decoration: none; margin-top: 15px;
            transition: transform 0.2s;
        }
        .btn-action:active { transform: scale(0.96); opacity: 0.8; }
    </style>
</head>
<body>

    <div class="bg-container">
        <div id="bg-itinerary" class="bg-image active"></div>
        <div id="bg-flights" class="bg-image" style="background-image: url('https://images.unsplash.com/photo-1569154941061-e231b4725ef1?q=80&w=1080');"></div>
        <div id="bg-hotels" class="bg-image" style="background-image: url('https://images.unsplash.com/photo-1618773928121-c32242e63f39?q=80&w=1080');"></div>
        <div id="bg-guide" class="bg-image" style="background-image: url('https://images.unsplash.com/photo-1501504905252-473c47e087f8?q=80&w=1080');"></div>
        <div class="bg-overlay"></div>
    </div>

    <header>
        <div class="header-left">
            <h1 id="header-title">Ë°åÁ®ã</h1>
            <div class="subtitle" id="header-subtitle">Overview</div>
            <div id="countdown-banner">Âç≥Â∞áÂá∫Áôº ‚úàÔ∏è</div>
        </div>
        <div class="weather-widget">
            <span class="weather-temp" id="current-temp">--¬∞</span>
            <span class="weather-loc" id="current-loc">LOADING</span>
        </div>
    </header>

    <!-- TAB 1: ITINERARY -->
    <div id="tab-itinerary" class="content-area active">
        <div class="day-scroller-container"><div class="day-scroller"></div></div>
        <div id="day-content"></div>
    </div>

    <!-- TAB 2: FLIGHTS -->
    <div id="tab-flights" class="content-area">
        <div class="card animate-item">
            <div class="place-item no-arrow">
                <div class="place-header"><span class="place-name">SFO ‚ûù LAS</span><span class="place-tag secondary">11/25 ÂéªÁ®ã</span></div>
                <p class="place-desc"><strong>Ë•øÂçóËà™Á©∫ WN 3237</strong><br>Terminal 1 (Harvey Milk)</p>
                <div class="flight-time-row">
                    <div class="flight-time-col"><div class="ft-label">ÁôªÊ©ü Board</div><div class="ft-time" style="color:#2980b9">09:50</div></div>
                    <div class="flight-time-col"><div class="ft-label">Ëµ∑È£õ Dep</div><div class="ft-time">10:20</div></div>
                    <i data-lucide="arrow-right" size="16" class="ft-icon"></i>
                    <div class="flight-time-col"><div class="ft-label">ÊäµÈÅî Arr</div><div class="ft-time">11:50</div></div>
                </div>
                <div class="lounge-info">
                    <div style="min-width:20px;"><i data-lucide="armchair" size="20" color="#002663"></i></div>
                    <div class="lounge-text"><span class="lounge-badge">ÁæéÂúãÈÅãÈÄöË≤¥Ë≥ìÂÆ§</span><br><strong>SFO: Terminal 3 (F Gates)</strong><br>*Southwest Âú® T1„ÄÇT1 Ëàá T3 Â∑≤Êúâ Airside ÈÄ£ÈÄöÈÅìÔºåÊ≠•Ë°åÁ¥Ñ 10-15 ÂàÜÈêòÔºå‰∏çÈúÄÈáçÈÅéÂÆâÊ™¢„ÄÇ</div>
                </div>
                <a href="https://www.flightaware.com/live/flight/SWA3237" target="_blank" class="btn-action" style="background:#f0f8ff; color:#2980b9"><i data-lucide="radar" size="16"></i> ÁãÄÊÖãËøΩËπ§</a>
            </div>
        </div>
        <div class="card animate-item">
            <div class="place-item no-arrow">
                <div class="place-header">
                    <span class="place-name">LAS ‚ûù SFO</span>
                    <span class="place-tag secondary">12/1 ÂõûÁ®ã</span>
                </div>
                <p class="place-desc"><strong>Ë•øÂçóËà™Á©∫ WN 2487</strong><br>Terminal 1 (Gates B/C)</p>
                <div class="flight-time-row">
                    <div class="flight-time-col"><div class="ft-label">ÁôªÊ©ü Board</div><div class="ft-time" style="color:#2980b9">14:45</div></div>
                    <div class="flight-time-col"><div class="ft-label">Ëµ∑È£õ Dep</div><div class="ft-time">15:15</div></div>
                    <i data-lucide="arrow-right" size="16" class="ft-icon"></i>
                    <div class="flight-time-col"><div class="ft-label">ÊäµÈÅî Arr</div><div class="ft-time">16:50</div></div>
                </div>
                <div class="lounge-info">
                    <div style="min-width:20px;"><i data-lucide="armchair" size="20" color="#002663"></i></div>
                    <div class="lounge-text"><span class="lounge-badge">ÁæéÂúãÈÅãÈÄöË≤¥Ë≥ìÂÆ§</span><br><strong>LAS: Concourse D</strong><br>*ÈúÄÊê≠‰πò Blue Line Tram ÂâçÂæÄ D Gates (ÂÆâÊ™¢ÂçÄÂÖß)„ÄÇ</div>
                </div>
                <a href="https://www.flightaware.com/live/flight/SWA2487" target="_blank" class="btn-action" style="background:#f0f8ff; color:#2980b9"><i data-lucide="radar" size="16"></i> ÁãÄÊÖãËøΩËπ§</a>
            </div>
        </div>
        <div class="card animate-item">
            <div class="place-item no-arrow">
                <span class="place-name">LAS Ê©üÂ†¥ÁßüËªä‰∏≠ÂøÉ</span>
                <p class="place-desc" style="margin-top:5px;"><strong>ÂèñËªäÔºö</strong> 11/25 12:30 PM<br><strong>ÈÇÑËªäÔºö</strong> 11/28 ‰∏ãÂçà (Vegas)</p>
                <a href="https://www.google.com/maps/search/?api=1&query=McCarran+Rent-A-Car+Center" target="_blank" class="btn-action" style="background:#f0f8ff; color:#2980b9"><i data-lucide="navigation"></i> Â∞éËà™ÂéªÂèñËªä</a>
            </div>
        </div>
    </div>

    <!-- TAB 3: HOTELS -->
    <div id="tab-hotels" class="content-area">
        <div class="card animate-item">
            <div class="place-item" onclick="openModal('Zion Inn', 'Springdale Ê∫´È¶®‰ΩèÂÆø', 'Ë∑ùÈõ¢Èå´ÂÆâÂÖ¨ÂúíÂÖ•Âè£ÂÉÖÂπæÂàÜÈêòËªäÁ®ã„ÄÇÈôÑËøëÊúâ‰∏çÈåØÁöÑÈ§êÂª≥ÂíåË∂ÖÂ∏Ç„ÄÇ')">
                <div class="place-header"><span class="place-name">Zion Inn</span><span class="place-tag highlight" style="background:#8e44ad">2 Êôö</span></div>
                <span class="hotel-date">11/25 (‰∫å) - 11/27 (Âõõ)</span>
                <p class="place-desc">üìç 1215 Zion Park Blvd, Springdale</p>
                <a href="https://www.google.com/maps/search/?api=1&query=Zion+Inn,+1215+Zion+Park+Blvd,+Springdale,+UT" target="_blank" class="btn-action" style="background:#f8f4fc; color:#8e44ad" onclick="event.stopPropagation()"><i data-lucide="map-pin"></i> Â∞éËà™</a>
            </div>
        </div>
        <div class="card animate-item">
            <div class="place-item" onclick="openModal('Ruby\'s Inn', 'Bryce Canyon Ê≠∑Âè≤ÊóÖÈ§®', 'ÈùûÂ∏∏ÊúâË•øÈÉ®Áâõ‰ªîÈ¢®ÊÉÖÁöÑÊóÖÈ§®„ÄÇÊÑüÊÅ©ÁØÄÊôöÈ§êÂ∞±Âú®ÈÄôË£°ÂêÉÔºÅÊóÅÈÇäÊúâÂ§ßË∂ÖÂ∏Ç„ÄÇ')">
                <div class="place-header"><span class="place-name">Ruby's Inn (Bryce)</span><span class="place-tag highlight" style="background:#8e44ad">1 Êôö</span></div>
                <span class="hotel-date">11/27 (Âõõ) - 11/28 (‰∫î)</span>
                <p class="place-desc">üìç 26 S Main St, Bryce Canyon City</p>
                <a href="https://www.google.com/maps/search/?api=1&query=Best+Western+Plus+Ruby's+Inn,+26+South+Main+Street,+Bryce+Canyon+City,+UT" target="_blank" class="btn-action" style="background:#f8f4fc; color:#8e44ad" onclick="event.stopPropagation()"><i data-lucide="map-pin"></i> Â∞éËà™</a>
            </div>
        </div>
        <div class="card animate-item">
            <div class="place-item" onclick="openModal('Holiday Inn Express', 'Vegas ‰ΩèÂÆø', '‰ΩçÊñº Tropicana Â§ßÈÅìÔºåÈõ¢ MGM Grand ÂæàËøëÔºåÊñπ‰æøÂéªÊê≠ Monorail ÊàñËµ∞Âà∞ Strip ÂçóÁ´Ø„ÄÇÈôÑÊó©È§êÔºÅ')">
                <div class="place-header"><span class="place-name">Holiday Inn Express</span><span class="place-tag highlight" style="background:#8e44ad">3 Êôö</span></div>
                <span class="hotel-date">11/28 (‰∫î) - 12/1 (‰∏Ä)</span>
                <p class="place-desc">üìç 175 East Tropicana Ave, Vegas</p>
                <a href="https://www.google.com/maps/search/?api=1&query=Holiday+Inn+Express+Las+Vegas+-+South,+175+East+Tropicana+Ave,+Las+Vegas,+NV" target="_blank" class="btn-action" style="background:#f8f4fc; color:#8e44ad" onclick="event.stopPropagation()"><i data-lucide="map-pin"></i> Â∞éËà™</a>
            </div>
        </div>
    </div>

    <!-- TAB 4: GUIDE (Includes Prep) -->
    <div id="tab-guide" class="content-area">
        <div class="day-scroller-container"><div class="day-scroller" id="guide-scroller"></div></div>
        <div id="guide-content"></div>
    </div>

    <!-- MODAL -->
    <div class="modal-overlay" id="detail-modal" onclick="closeModal()">
        <div class="modal-sheet" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <button class="modal-close-btn" onclick="closeModal()">√ó</button>
            <div class="modal-title" id="modal-title">Title</div>
            <div class="modal-desc" id="modal-desc">Description</div>
        </div>
    </div>

    <!-- TAB BAR -->
    <nav class="tab-bar">
        <div class="tab-item active" onclick="switchTab('itinerary', this)"><i data-lucide="map" size="24"></i><span>Ë°åÁ®ã</span></div>
        <div class="tab-item" onclick="switchTab('flights', this)"><i data-lucide="plane" size="24"></i><span>‰∫§ÈÄö</span></div>
        <div class="tab-item" onclick="switchTab('hotels', this)"><i data-lucide="bed" size="24"></i><span>‰ΩèÂÆø</span></div>
        <div class="tab-item" onclick="switchTab('guide', this)"><i data-lucide="book-open" size="24"></i><span>ÊåáÂçó</span></div>
    </nav>

    <script>
        lucide.createIcons();
        let currentHourlyTemps = [];

        // --- DATA ---
        const daysData = [
            { date: "11/25", fullDate: "2025-11-25", week: "ÈÄ±‰∫å", title: "ÂâçÂæÄÈå´ÂÆâ", color: "#D35400", bgImg: "https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=1080", weatherLoc: "Springdale", coords: "37.188,-112.998", mapUrl: "https://www.google.com/maps/dir/Harry+Reid+International+Airport/Costco+Wholesale,+Saint+George/Zion+National+Park+Visitor+Center/Zion+Inn,+Zion+Park+Boulevard,+Springdale,+UT", content: [
                { name: "ÊäµÈÅîË≥≠Âüé & ÂèñËªä", desc: "LAS Ê©üÂ†¥ÁßüËªä‰∏≠ÂøÉÂèñËªä„ÄÇ", tag: "12:30 PM", info: "ÂèñËªäÊ™¢Êü•ÔºöÂÇôËÉé„ÄÅÂ∑•ÂÖ∑„ÄÅÁ©∫Ë™ø„ÄÇ" },
                { name: "St. George Ë£úÁµ¶", desc: "Costco/Walmart Ë≤∑Ê∞¥„ÄÅÊó©È§ê„ÄÇ", tag: "2:30 PM", info: "Âª∫Ë≠∞Ë≥ºË≤∑ÔºöÊï¥ÁÆ±Ê∞¥„ÄÅËÉΩÈáèÊ£í„ÄÅÊ∞¥Êûú„ÄÅÁ∞°ÊòìÂæÆÊ≥¢È£üÂìÅ„ÄÇ" },
                { name: "Zion Visitor Center", desc: "ËìãÂç∞Á´† (5PM Èóú)„ÄÇ", tag: "4:30 PM", info: "Ë©¢Âïè The Narrows Ê∞¥‰ΩçÁãÄÊ≥Å„ÄÇ" },
                { name: "Zion Inn ‰ΩèÂÆø", desc: "ÈéÆ‰∏äÊôöÈ§êÔºåÊó©Èªû‰ºëÊÅØ„ÄÇ", tag: "6:00 PM", info: "Êé®Ëñ¶ÔºöThai Sapa Êàñ Oscar's Cafe„ÄÇ" }
            ]},
            { date: "11/26", fullDate: "2025-11-26", week: "ÈÄ±‰∏â", title: "Èå´ÂÆâÂúãÂÆ∂ÂÖ¨Âúí", color: "#27AE60", bgImg: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?q=80&w=1080", weatherLoc: "Zion Park", coords: "37.298,-113.026", mapUrl: "https://www.google.com/maps/dir/Zion+Inn,+Zion+Park+Boulevard,+Springdale,+UT/Zion+National+Park+Visitor+Center/The+Grotto+Picnic+Area,+Zion+National+Park,+UT/Temple+of+Sinawava/Canyon+Overlook+Trail,+Zion-Mount+Carmel+Highway,+Springdale,+UT", shuttle: true, content: [
                { name: "Êê≠‰πòÊé•ÈßÅËªä", desc: "ÁõÆÊ®ôÁ¨¨‰∏ÄÁè≠ËªäÔºÅ", tag: "7:00 AM", info: "Ê©òÁ∑öËΩâÁ∂†Á∑ö„ÄÇ" },
                { name: "Angels Landing", desc: "Á∂†Á∑ö #6 The Grotto„ÄÇ", tag: "8:00 AM", info: "Ëµ∞ West Rim Trail Âà∞ Scout Lookout„ÄÇ" },
                { name: "Riverside Walk", desc: "ÈÄöÂæÄ Narrows ÁöÑÂπ≥Á∑©Ê≠•ÈÅì„ÄÇ", tag: "ËºïÈ¨Ü", info: "Ê≤øËëóÁ∂≠Áê¥Ê≤≥ÁöÑÂπ≥Á∑©Ê≠•ÈÅìÔºåÈÄöÂæÄ Narrows ÂÖ•Âè£„ÄÇ" },
                { name: "The Narrows", desc: "Á∂†Á∑ö #9 Temple of Sinawava„ÄÇ", tag: "11:00 AM", info: "Ê≤≥Êø±Ê≠•ÈÅìËµ∞Âà∞Â∫ï„ÄÇ" },
                { name: "Emerald Pools", desc: "Á∂†Á∑ö #5 Zion Lodge„ÄÇ", tag: "2:00 PM", info: "Lower Pool ÊúâÁÄëÂ∏ÉÊ∞¥Á∞æ„ÄÇ" },
                { name: "Canyon Overlook", desc: "‚ö†Ô∏è ÈúÄÈñãËªä„ÄÇÈÅéÈößÈÅìÂæåÂÅúËªä„ÄÇ", tag: "5:00 PM", info: "ÁúãÂÖ®ÊôØÊúÄ‰Ω≥Èªû„ÄÇ" },
                { name: "Pa'rus Trail", desc: "Áúã The Watchman Êó•ËêΩÊúÄÁæé„ÄÇ", tag: "Êó•ËêΩ", info: "ÂîØ‰∏ÄÂèØÈ®éËá™Ë°åËªäÁöÑÊ≠•ÈÅìÔºåË¶ñÈáéÈñãÈóä„ÄÇ" }
            ]},
            { date: "11/27", fullDate: "2025-11-27", week: "ÈÄ±Âõõ", title: "Â∏ÉËêäÊñØÂ≥ΩË∞∑", color: "#C0392B", bgImg: "https://images.unsplash.com/photo-1546587348-d12660c30c50?q=80&w=1080", weatherLoc: "Bryce Canyon", coords: "37.628,-112.167", mapUrl: "https://www.google.com/maps/dir/Springdale+Zion+Inn,+1215+Zion+Park+Blvd,+Springdale,+UT/Bryce+Canyon+National+Park+Visitor+Center/Sunset+Point,+Bryce+Canyon,+UT/Inspiration+Point,+Bryce+Canyon,+UT/Best+Western+Plus+Ruby's+Inn,+South+Main+Street,+Bryce+Canyon+City,+UT", content: [
                { name: "12 ËôüÊôØËßÄÂÖ¨Ë∑Ø", desc: "È¢®ÊôØÁµïÁæé‰ΩÜÂΩéÊõ≤„ÄÇ", tag: "9:00 AM", info: "Á∂ìÈÅé Red Canyon„ÄÇ" },
                { name: "Natural Bridge", desc: "Â∑®Â§ßÁöÑÁ¥ÖËâ≤Â§©ÁÑ∂Êã±ÈñÄ„ÄÇ", tag: "ÊãçÁÖß", info: "‰ΩçÊñºÊôØËßÄÂÖ¨Ë∑Ø‰∏≠ÊÆµÔºåËâ≤ÂΩ©Â∞çÊØîÂº∑ÁÉà„ÄÇ" },
                { name: "Bryce ËßÄÊôØÂè∞", desc: "ÈÅäÂÆ¢‰∏≠ÂøÉ ‚ûî Sunset ‚ûî Inspiration„ÄÇ", tag: "12:00 PM", info: "Áúã Hoodoos Áü≥‰øë„ÄÇ" },
                { name: "Queens Garden", desc: "Ëµ∞ÂÖ•Áü≥ÊûóÂ∫ïÈÉ®„ÄÇ", tag: "ÂøÖËµ∞", info: "ÈÄ£Êé• Navajo Loop ÁöÑÊúÄ‰Ω≥ÈÅ∏Êìá„ÄÇ" },
                { name: "Navajo Loop", desc: "Ëµ∞ÂÖ•Â≥ΩË∞∑ÁúãÈõ∑Á•û‰πãÈéö„ÄÇ", tag: "2:00 PM", info: "ËëóÂêçÁöÑ Wall Street ÂçÄÊÆµ„ÄÇ" },
                { name: "Rainbow Point", desc: "ÂÖ¨Ë∑ØÁõ°È†≠ÁöÑÊúÄÈ´òÈªû„ÄÇ", tag: "Ëá≥È´òÈªû", info: "Êµ∑Êãî 9100 Ëã±Â∞∫Ôºå‰øØÁû∞Êï¥ÂÄãÂ≥ΩË∞∑„ÄÇ" },
                { name: "ÊÑüÊÅ©ÁØÄÊôöÈ§ê", desc: "ÂÖ•‰Ωè Ruby's Inn„ÄÇ", tag: "6:00 PM", info: "Cowboy Buffet ÊàñËá™ÂÇôÂ§ßÈ§ê„ÄÇ" }
            ]},
            { date: "11/28", fullDate: "2025-11-28", week: "ÈÄ±‰∫î", title: "ÁÅ´ÁÑ∞Ë∞∑ & Ë≥≠Âüé", color: "#8E44AD", bgImg: "https://images.unsplash.com/photo-1548954047-3f42a6776b62?q=80&w=1080", weatherLoc: "Las Vegas", coords: "36.169,-115.139", mapUrl: "https://www.google.com/maps/dir/Best+Western+Plus+Ruby's+Inn/Valley+of+Fire+State+Park/Sahara+Las+Vegas", content: [
                { name: "Valley of Fire", desc: "ÁÅ´ÁÑ∞Ë∞∑Â∑ûÁ´ãÂÖ¨Âúí„ÄÇ", tag: "10:00 AM", info: "ÂøÖÁúã Fire Wave„ÄÇ" },
                { name: "ÊäµÈÅî Vegas & ÈÇÑËªä", desc: "ÂÖàÊîæË°åÊùéÂÜçÈÇÑËªä„ÄÇ", tag: "3:00 PM", info: "Holiday Inn Check-in„ÄÇ" },
                { name: "Magic Mike Live", desc: "Sahara Hotel„ÄÇ", tag: "10:00 PM", info: "ÊèêÊó©ÂÖ•Â†¥„ÄÇ" }
            ]},
            { date: "11/29", fullDate: "2025-11-29", week: "ÈÄ±ÂÖ≠", title: "Ë≥≠ÂüéÂ§ßÁßÄ", color: "#F1C40F", bgImg: "https://images.unsplash.com/photo-1605833556294-ea5c7a74f57d?q=80&w=1080", weatherLoc: "Las Vegas", coords: "36.169,-115.139", mapUrl: "https://www.google.com/maps/search/Las+Vegas+Strip", content: [
                { name: "È£ØÂ∫óÂ∑°Á¶Æ", desc: "Bellagio, Venetian„ÄÇ", tag: "ÁôΩÂ§©", info: "Ê∞¥Ëàû„ÄÅÈÅãÊ≤≥„ÄÇ" },
                { name: "MJ One", desc: "Mandalay Bay„ÄÇ", tag: "6:30 PM", info: "Â§™ÈôΩÈ¶¨Êà≤ÂúòÁ∂ìÂÖ∏„ÄÇ" },
                { name: "X Country", desc: "Harrah's„ÄÇ", tag: "10:00 PM", info: "‰∏äÁ©∫ÈÑâÊùëÊ≠åËàû„ÄÇ" }
            ]},
            { date: "11/30", fullDate: "2025-11-30", week: "ÈÄ±Êó•", title: "ÊúÄÂæåÊé¢Á¥¢", color: "#2980B9", bgImg: "https://images.unsplash.com/photo-1581351123004-757980748d20?q=80&w=1080", weatherLoc: "Las Vegas", coords: "36.169,-115.139", mapUrl: "https://www.google.com/maps/search/Fremont+Street+Experience", content: [
                { name: "Fremont Street", desc: "ËàäÂüéÂçÄÂ§©ÂπïÁßÄ„ÄÇ", tag: "ÊôöÈñì", info: "Ê∞£Ê∞õÁãÇÈáéÔºåLED Â§©Âπï„ÄÇ" },
                { name: "‰º¥ÊâãÁ¶Æ", desc: "M&M, Coca-Cola„ÄÇ", tag: "Ëá™Áî±", info: "ÊúÄÂæåÊé°Ë≤∑„ÄÇ" }
            ]},
            { date: "12/1", fullDate: "2025-12-01", week: "ÈÄ±‰∏Ä", title: "ËøîÁ®ã", color: "#7F8C8D", bgImg: "https://images.unsplash.com/photo-1436491865332-7a61a109cc05?q=80&w=1080", weatherLoc: "SFO", coords: "37.621,-122.379", mapUrl: "https://www.google.com/maps/dir/Holiday+Inn+Express/Harry+Reid+International+Airport", content: [
                { name: "ÂâçÂæÄÊ©üÂ†¥", desc: "Êê≠ Uber/Lyft„ÄÇ", tag: "ÂõûÁ®ã", info: "È†êÁïôÂÆâÊ™¢ÊôÇÈñì„ÄÇ" },
                { name: "È£õÂõû SFO", desc: "WN 2487„ÄÇ", tag: "È£õË°å", info: "Êî∂ÂøÉ‰∏äÁè≠ÔºÅ" }
            ]}
        ];

        const guideData = [
            { category: "‚õ∞Ô∏è Èå´ÂÆâ", content: [
                { name: "Checkerboard Mesa", tag: "Âú∞Ë≥™", desc: "ÂÉèÊ£ãÁõ§‰∏ÄÊ®£ÁöÑÂ≤©Â±±„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØÊù±ÂÅ¥ÂÖ•Âè£ÊúÄÈÜíÁõÆÁöÑÂú∞Ê®ô„ÄÇÂ≤©Áü≥Ë°®Èù¢Âõ†ÁÇ∫È¢®ËùïÂíåÂáçËûç‰ΩúÁî®ÔºåÂΩ¢Êàê‰∫ÜÂûÇÁõ¥ÂíåÊ∞¥Âπ≥ÁöÑÊ∫ùÊßΩÔºåÁúãËµ∑‰æÜÂ∞±ÂÉèÂ∑®Â§ßÁöÑÊ£ãÁõ§„ÄÇ\n\nüìç **‰ΩçÁΩÆÔºö**\nÊù±ÂÅ¥ÂÖ•Âè£Êî∂Ë≤ªÁ´ôÂâõÈÄ≤‰æÜÂ∞±ÊúÉÁúãÂà∞„ÄÇ" },
                { name: "Kolob Canyons", tag: "ÁßòÂ¢É", desc: "‰∫∫Â∞ëÊôØÁæéÁöÑÁ¥ÖËâ≤ÊâãÊåá„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôË£°‰∏çÂú®‰∏ªÂ≥ΩË∞∑ÂçÄÔºåËÄåÊòØÂú®ÂÖ¨ÂúíË•øÂåóËßíÔºàI-15 ÂÖ¨Ë∑ØÊóÅÔºâ„ÄÇÈÅäÂÆ¢ÈùûÂ∏∏Â∞ëÔºåÂ∑®Â§ßÁöÑÁ¥ÖËâ≤Á¥çÁì¶ÈúçÁ†ÇÂ≤©ÂÉèÊâãÊåá‰∏ÄÊ®£‰º∏ÂêëÂ§©Á©∫ÔºåÈùûÂ∏∏Â£ØËßÄ„ÄÇ\n\nüöó **‰∫§ÈÄöÔºö**\nÈúÄË¶ÅÈñãËªäÂâçÂæÄÔºåÁÑ°Ê≥ïÂæû‰∏ªÂ≥ΩË∞∑Êê≠ Shuttle Âà∞ÈÅî„ÄÇ" },
                { name: "Âú∞Ë≥™Ëµ∑Ê∫ê", tag: "ÂøÖËÆÄ", desc: "Âè§‰ª£Ê≤ô‰∏òËÆäÊàêÁöÑÁ¥ÖËâ≤Â∑®Â≤©„ÄÇ", info: "üí¨ **Á∞°ÂñÆË™™Ôºö**\nÈÄôË£°‰ª•ÂâçÊòØÂÉèÊííÂìàÊãâÊ≤ôÊº†‰∏ÄÊ®£ÁöÑË∂ÖÂ§ßÊ≤ôÂùëÔºÅÂæå‰æÜËÆäÊàê‰∫ÜÁü≥È†≠ÔºåÂèàË¢´Ê≤≥Ê∞¥ÂàáËõãÁ≥ï‰∏ÄÊ®£ÂàáÈñãÔºåÂ∞±ËÆäÊàê‰∫ÜÁèæÂú®Â£ØËßÄÁöÑÊ®£Â≠ê„ÄÇ\n\nü§ì **ÂÜ∑Áü•Ë≠òÔºö**\nÈÇ£‰∫õÂ∑®Â§ßÁöÑÁ¥ÖËâ≤Â≤©Â£ÅÔºåÂÖ∂ÂØ¶ÊòØ1.5ÂÑÑÂπ¥ÂâçÁöÑ‰∏ÄÂÄãË∂ÖÁ¥öÂ§ßÊ≤ôÊº†„ÄÇÊ≤ôÂ≠ê‰∏ÄÂ±§Â±§Â†ÜÁñäÔºåÊúÄÂæåËÆäÊàê‰∫ÜÁü≥È†≠„ÄÇ" },
                { name: "Angels Landing", tag: "ÂøÉË∑≥Âä†ÈÄü", desc: "ÂøÉË∑≥Êºè‰∏ÄÊãçÁöÑÊåëÊà∞ÔºÅ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÊåëÊà∞‰Ω†ÁöÑËÜΩÈáèÊ•µÈôêÔºÅÊäìËëóÈêµÈçäËµ∞Âú®Êá∏Â¥ñÈÇäÔºåÂøÉË∑≥Âä†ÈÄü‰ΩÜÈ¢®ÊôØÁÑ°Êïµ„ÄÇ\n\n‚ö†Ô∏è **Ê≥®ÊÑèÔºö**\nÊáºÈ´òÁóáÊÇ£ËÄÖË´ã‰∏âÊÄùÔºåÊàñËÄÖÂú® Scout Lookout ÂêÉÁìúÁúãÂà•‰∫∫Áà¨Â∞±Â•Ω„ÄÇ" },
                { name: "The Narrows", tag: "Áç®ÁâπÈ´îÈ©ó", desc: "Ëµ∞ÈÄ≤Ê≤≥Ë£°ÂéªÂÜíÈö™„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄô‰∏çÊòØ„ÄåÁúã„ÄçÂ≥ΩË∞∑ÔºåËÄåÊòØ„ÄåËµ∞ÈÄ≤„ÄçÂ≥ΩË∞∑Ë£°„ÄÇËÖ≥Ë∏©Âú®Ê∞¥Ë£°ÔºåÊä¨È†≠ÊòØÂçÉÂ∞∫È´òÁöÑ‰∏ÄÁ∑öÂ§©ÔºåÈÄôÁ®ÆÈ´îÈ©óÂÖ®‰∏ñÁïåÊ≤íÂπæÂÄãÂú∞ÊñπÊúâ„ÄÇ\n\nüéí **Ë£ùÂÇôÔºö**\nÂÜ¨Â§©Ê∞¥Ê∫´Ê•µ‰ΩéÔºå‰∏ÄÂÆöË¶ÅÁßü dry suit (‰πæÂºèÈò≤ÂØíË°£)„ÄÇ" },
                { name: "Emerald Pools", tag: "ËºïÈ¨Ü", desc: "ÂéªÁúãÁÄëÂ∏ÉÊ∞¥Á∞æÊ¥û„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØ‰∏ÄÊ¢ùÂæàÊ∫´ÊüîÁöÑÊ≠•ÈÅì„ÄÇLower Pool ÊúâÂÄãÊ∞¥Á∞æÊ¥ûÔºå‰Ω†ÂèØ‰ª•Ëµ∞Âà∞ÁÄëÂ∏ÉÂæåÈù¢ÔºåÂæàÈÅ©ÂêàÊãçÊúâÊÑèÂ¢ÉÁöÑÁÖßÁâá„ÄÇ" },
                { name: "Canyon Overlook", tag: "CPÂÄºÈ´ò", desc: "‰∏çÁî®Áà¨ÂæóÂçäÊ≠ª‰πüËÉΩÁúãÂ§ßÊôØ„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nCPÂÄºÊúÄÈ´òÔºÅÂè™Ë¶ÅËµ∞ 20 ÂàÜÈêòÔºåÂ∞±ËÉΩÁúãÂà∞Ë∑ü Angels Landing ‰∏ÄÊ®£Â£ØËßÄÁöÑÈ¢®ÊôØÔºåËÄå‰∏î‰∏çÁî®ÊäΩÁ±§„ÄÅ‰∏çÁî®Áà¨Êá∏Â¥ñ„ÄÇ" },
                { name: "Watchman Trail", tag: "‰∫∫Â∞ë", desc: "ÈÅøÈñã‰∫∫ÊΩÆÁöÑÂ•ΩÈÅ∏Êìá„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÂ¶ÇÊûú‰Ω†Á¨¨‰∏ÄÂ§©‰∏ãÂçàÂâõÂà∞Ôºå‰∏çÊÉ≥Â§™Á¥ØÔºåÈÄôÊ¢ùÊ≠•ÈÅìÂ∞±Âú®ÈÅäÂÆ¢‰∏≠ÂøÉÊóÅÔºåÂèØ‰ª•ÁúãÂ§ïÈôΩÁÖßÂú® Watchman Â±±Â≥∞‰∏äÁöÑÈáëÂÖâ„ÄÇ" },
                { name: "Court of the Patriarchs", tag: "ÊãçÁÖß", desc: "‰∏ãËªäÂ∞±ËÉΩÊãçÂ§ßÁâá„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØ‰∏ÄÂÄãÂè™Ë¶Å‰∏ãËªäËµ∞ 2 ÂàÜÈêòÂ∞±ËÉΩÂà∞ÁöÑËßÄÊôØÂè∞„ÄÇÂèØ‰ª•‰∏ÄÊ¨°ÊãçÂà∞‰∏âÂ∫ß‰ª•ËÅñÁ∂ì‰∫∫Áâ©ÂëΩÂêçÁöÑÈ´òÂ≥∞„ÄÇ" }
            ]},
            { category: "üå≤ Â∏ÉËêäÊñØ", content: [
                { name: "Natural Bridge", tag: "ÊãçÁÖß", desc: "Â∑®Â§ßÁöÑÂ§©ÁÑ∂Êã±ÈñÄ„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈõñÁÑ∂Âè´„ÄåÊ©ã„ÄçÔºå‰ΩÜÂÖ∂ÂØ¶ÊòØÂÄã‰æµËùïÂá∫‰æÜÁöÑ„ÄåÊã±ÈñÄ„Äç„ÄÇÁ¥ÖËâ≤ÁöÑÂ≤©Áü≥Êã±ÈñÄÊ°Ü‰ΩèËÉåÂæåÊ∑±Á∂†Ëâ≤ÁöÑÊùæÊ®πÊûóÔºåÂ∞çÊØîÈùûÂ∏∏Âº∑ÁÉàÔºåÊòØÊîùÂΩ±Â∏´ÁöÑÊúÄÊÑõ„ÄÇ" },
                { name: "Rainbow Point", tag: "Ëá≥È´òÈªû", desc: "Êï¥ÂÄãÂÖ¨ÂúíÁöÑÊúÄÈ´òÈªû„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\n‰ΩçÊñºÊôØËßÄÂÖ¨Ë∑ØÁöÑÁõ°È†≠ÔºàÊµ∑Êãî 9100 Ëã±Â∞∫Ôºâ„ÄÇÂæûÈÄôË£°ÂèØ‰ª•ÂõûÊúõÊï¥ÂÄãÂ∏ÉËêäÊñØÈú≤Â§©ÂäáÂ†¥ÔºåÂ§©Ê∞£Â•ΩÁîöËá≥ËÉΩÁúãÂà∞‰∫ûÂà©Ê°ëÈÇ£Â∑û„ÄÇ\n\nüß• **Ê≥®ÊÑèÔºö**\nÈÄôË£°ÈÄöÂ∏∏ÊØîÈÅäÂÆ¢‰∏≠ÂøÉÊõ¥ÂÜ∑ÔºåÈ¢®‰πüÊõ¥Â§ß„ÄÇ" },
                { name: "Mossy Cave", tag: "ÁßòÂ¢É", desc: "ÊúâÁÄëÂ∏ÉÁöÑÂ∞èÊ≠•ÈÅì„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊ¢ùÊ≠•ÈÅì‰∏çÂú®ÂÖ¨ÂúíÊî∂Ë≤ªÁ´ôÂÖßÔºà‰ΩçÊñº 12 ËôüÂÖ¨Ë∑Ø‰∏äÔºâ„ÄÇÈÄôË£°Êúâ‰∏ÄÊ¢ùÂ∞èÊ∫™ÂíåÁÄëÂ∏ÉÔºàÂÜ¨Â§©ÂèØËÉΩÁµêÂÜ∞ÔºâÔºåÈÇÑÊúâ‰∏ÄÂÄãÈï∑ÊªøËãîËòöÁöÑÊ¥ûÁ©¥ÔºåÈùûÂ∏∏ÁâπÂà•„ÄÇ" },
                { name: "Âú∞Ë≥™Ëµ∑Ê∫ê", tag: "ÂøÖËÆÄ", desc: "Ë¢´ÂÜ∞Èõ™ÈëøÂá∫ÁöÑÈú≤Â§©ÂäáÂ†¥„ÄÇ", info: "üí¨ **Á∞°ÂñÆË™™Ôºö**\nÈÄôË£°ÁöÑÁü≥È†≠Èï∑ÂæóÂÉè‰∏ÄÁæ§Á´ôÁ´ãÁöÑ‰∫∫ÔºåÂè´ÂÅö Hoodoos„ÄÇÂÇ≥Ë™™ÊòØË¢´ËÆäÊàêÁü≥È†≠ÁöÑÂè§‰ª£‰∫∫ÔºåÂÖ∂ÂØ¶ÊòØÂÜ∞Èõ™ÈõïÂàªÂá∫‰æÜÁöÑÂÇë‰Ωú„ÄÇ\n\nü§ì **ÂÜ∑Áü•Ë≠òÔºö**\nÊ∞¥Êª≤ÈÄ≤Á∏´ÈöôÔºåÊôö‰∏äÁµêÂÜ∞ËÜ®ËÑπÊääÁü≥È†≠ÊíêÈñãÔºåÈÄôÈÅéÁ®ãÈáçË§á‰∫ÜÂπæÁôæËê¨Ê¨°„ÄÇ" },
                { name: "Sunset Point", tag: "ÁÜ±ÈñÄ", desc: "ÁúãÈõ∑Á•û‰πãÈéöÁöÑÊúÄ‰Ω≥‰ΩçÁΩÆ„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈõñÁÑ∂Âè´Êó•ËêΩÈªûÔºå‰ΩÜÂÖ∂ÂØ¶‰ªª‰ΩïÊôÇÂÄô‰æÜÈÉΩÁæé„ÄÇÈÄôË£°ÂæÄ‰∏ãÁúãÔºåÁü≥‰øëÊúÄÂØÜÈõÜÔºåÈÇ£ÂÄãËëóÂêçÁöÑ„ÄåÈõ∑Á•û‰πãÈéö„ÄçÂ∞±Âú®Ê≠£‰∏ãÊñπ„ÄÇ" },
                { name: "Inspiration Point", tag: "Â£ØËßÄ", desc: "ÂÉèÁæÖÈ¶¨Á´∂ÊäÄÂ†¥‰∏ÄÊ®£Â£ØËßÄ„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôË£°Ê≤íÊúâÊ≠•ÈÅìÂæÄ‰∏ãËµ∞ÔºåÊâÄ‰ª•Ë¶ñÈáéÊ≤íÊúâÈÅÆÊìã„ÄÇ‰Ω†ÊúÉÊÑüË¶∫Ëá™Â∑±Á´ôÂú®‰∏ÄÂÄãÂ∑®Â§ßÁöÑÁæÖÈ¶¨Á´∂ÊäÄÂ†¥ÈÇäÁ∑£ÔºåÁúãËëóÂ∫ï‰∏ãÁöÑÂ•áÂ≤©ÊÄ™Áü≥„ÄÇ" },
                { name: "Navajo Loop", desc: "Ëµ∞ÈÄ≤„ÄåËèØÁàæË°ó„Äç„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØÂ∏ÉËêäÊñØÊúÄÁ∂ìÂÖ∏ÁöÑÊ≠•ÈÅì„ÄÇ‰Ω†ÊúÉËµ∞ÈÄ≤‰∏ÄÂÄãÂè´„ÄåËèØÁàæË°ó„ÄçÁöÑÂ≥ΩË∞∑ÔºåÂÖ©ÈÇäÁöÑÂ≤©Â£ÅÈ´òËÅ≥ÂÖ•Èõ≤ÔºåÂè™ÊúâÂπæÊ£µÂÄîÂº∑ÁöÑÊùæÊ®πÈï∑Âú®ÈÇ£Ë£°„ÄÇ" },
                { name: "Queens Garden", tag: "ÊúâË∂£", desc: "ÂéªÊâæÁ∂≠Â§öÂà©‰∫ûÂ•≥Áéã„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊ¢ùË∑ØÊØîËºÉÂπ≥Á∑©ÔºåÂèØ‰ª•ËÆì‰Ω†ËøëË∑ùÈõ¢Êë∏Âà∞ÈÇ£‰∫õÁü≥Êü±„ÄÇÁµÇÈªûÊúâ‰∏ÄÂ∫ßÁü≥ÂÉèÈï∑ÂæóË∂ÖÂÉèÁ∂≠Â§öÂà©‰∫ûÂ•≥ÁéãÔºàÈõñÁÑ∂ÈúÄË¶Å‰∏ÄÈªûÊÉ≥ÂÉèÂäõüòÜÔºâ„ÄÇ" }
            ]},
            { category: "üî• ÁÅ´ÁÑ∞Ë∞∑", content: [
                { name: "Fire Wave", tag: "Á∂≤Á¥Ö", desc: "ÂÉèÂüπÊ†π‰∏ÄÊ®£ÁöÑÊ≥¢Êµ™Â≤©„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØÂÖ¨ÂúíÊúÄËëóÂêçÁöÑÊôØÈªû„ÄÇÁ¥ÖÁôΩÁõ∏ÈñìÁöÑÊ¢ùÁ¥ãÂ≤©Áü≥ÔºåÂÉèÊµ∑Êµ™‰∏ÄÊ®£Ëµ∑‰ºè„ÄÇÂ§ïÈôΩÊôÇÂàÜÈ°èËâ≤ÊúÄÈÆÆË±îÔºåÈö®‰æøÊãçÈÉΩÊòØÂ§ßÁâá„ÄÇ\n\n‚ö†Ô∏è **Ê≥®ÊÑèÔºö**\nÊ≠•ÈÅìÈõñÁÑ∂‰∏çÈï∑Ôºå‰ΩÜÂÆåÂÖ®ÁÑ°ÈÅÆËîΩÔºåË´ãÂ∏∂Ë∂≥Â§†ÁöÑÊ∞¥„ÄÇ" },
                { name: "White Domes", tag: "ÈõªÂΩ±", desc: "Ëâ≤ÂΩ©Ë±êÂØåÁöÑÁãπÁ∏´Â≥ΩË∞∑„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôË£°ÊõæÁ∂ìÊòØÈõªÂΩ±„ÄäÊòüËâ¶Ëø∑Ëà™Ë®ò„ÄãÁöÑÊãçÊîùÂú∞„ÄÇÊ≠•ÈÅìÊúÉÁ∂ìÈÅé‰∏ÄÂÄãÂ∞èÂûãÁöÑÁãπÁ∏´Â≥ΩË∞∑ (Slot Canyon)ÔºåÂ≤©Áü≥È°èËâ≤ÂæûÁôΩËâ≤„ÄÅÈªÉËâ≤Âà∞Á¥ÖËâ≤ÈÉΩÊúâÔºåÈùûÂ∏∏Â§¢Âπª„ÄÇ" },
                { name: "Elephant Rock", tag: "Â•áÂ≤©", desc: "ÁúüÁöÑÂÉè‰∏ÄÈ†≠Â§ßË±°ÔºÅ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÂ∞±Âú®Êù±ÂÅ¥ÂÖ•Âè£Ë∑ØÈÇä„ÄÇÈÄôÂ°äÁ¥ÖÂ≤©Á∂ìÈÅéÈ¢®ÂåñÔºåÈï∑ÂæóË∑üÂ§ßË±°‰∏ÄÊ®°‰∏ÄÊ®£ÔºåÈï∑Èï∑ÁöÑÈºªÂ≠êÈÄ£ËëóÂú∞Èù¢ÔºåÈùûÂ∏∏ÂèØÊÑõ„ÄÇ" },
                { name: "Mouse's Tank", tag: "Ê≠∑Âè≤", desc: "Â∞ãÊâæÂè§‰ª£Â≤©Áï´„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØ‰∏ÄÊ¢ùÊ≤ôÂú∞Ê≠•ÈÅì„ÄÇÊ≤øÈÄîÁöÑÈªëËâ≤Â≤©Â£Å‰∏äÂàªÊªø‰∫ÜÂπæÂçÉÂπ¥ÂâçÂéü‰ΩèÊ∞ëÁïô‰∏ãÁöÑÂ≤©Áï´ (Petroglyphs)„ÄÇ‰ªîÁ¥∞ÊâæÊâæÔºå‰Ω†ËÉΩÁúãÂà∞ÂÉèÁæä„ÄÅ‰∫∫ÊâãÂç∞ÁöÑÂúñÊ°à„ÄÇ" }
            ]},
            { category: "üé∞ Ë≥≠ÂüéÂú∞Ê®ô", content: [
                { name: "The Sphere", tag: "ÂøÖÁúã", desc: "ÁõØËëó‰Ω†ÁúãÁöÑÂ∑®ÂûãÁêÉÈ´î„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØÁõÆÂâçÊãâÊñØÁ∂≠Âä†ÊñØÊúÄÁÅ´ÁöÑÂú∞Ê®ôÔºÅ‰∏ñÁïå‰∏äÊúÄÂ§ßÁöÑÁêÉÂûã LED Ëû¢Âπï„ÄÇÂÆÉÊúÉËÆäÊàêÂ∑®Â§ßÁöÑË°®ÊÉÖÁ¨¶Ëôü„ÄÅÁúºÁêÉ„ÄÅÊàñÊúàÁêÉ„ÄÇÊúÄ‰Ω≥ËßÄË≥ûÈªûÊòØÂú®ÂñÆËªåÈõªËªä‰∏äÊàñÈôÑËøëÁöÑÂÅúËªäÂ†¥„ÄÇ" },
                { name: "Welcome Sign", tag: "ÊâìÂç°", desc: "Ê≤íÊãçÈÄôÂºµ‰∏çÁÆó‰æÜÈÅéË≥≠Âüé„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÇ£Â°ä 'Welcome to Fabulous Las Vegas' ÁöÑÊãõÁâå„ÄÇ‰ΩçÊñº Strip ÁöÑÊúÄÂçóÁ´Ø„ÄÇ\n\nüí° **Â∞èÊíáÊ≠•Ôºö**\nÊéíÈöäÊãçÁÖßÁöÑ‰∫∫ÈÄöÂ∏∏ÂæàÂ§ö„ÄÇÂ¶ÇÊûú‰Ω†‰∏çÊÉ≥ÊéíÈöäÔºåÂèØ‰ª•Á´ôÂú®ÊóÅÈÇäÊñú‰∏ÄÈªûÁöÑËßíÂ∫¶ÊãçÔºåÊïàÊûú‰πü‰∏çÈåØÔºÅ" },
                { name: "High Roller", tag: "Êë©Â§©Ëº™", desc: "ÂÖ®ÁêÉÊúÄÈ´òÁöÑÊë©Â§©Ëº™‰πã‰∏Ä„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nËΩâ‰∏ÄÂúàË¶Å 30 ÂàÜÈêò„ÄÇ‰Ω†ÂèØ‰ª•ÂåÖ‰∏ã‰∏ÄÂÄãËªäÂªÇÔºåÁîöËá≥ÊúâÈôÑÂ∏∂Ë™øÈÖíÂ∏´ÁöÑËªäÂªÇ (Happy Half Hour)ÔºåÈÇäÂñùÈÖíÈÇäÁúãÂ§úÊôØ„ÄÇ" },
                { name: "Area15", tag: "ÈÖ∑", desc: "Ëµ∞ÈÄ≤Áï∞Ê¨°ÂÖÉË∂ÖÂ∏Ç„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôË£°ÊúâËëóÂêçÁöÑ Omega MartÔºàÂñµÂñµË∂ÖÂ∏ÇÔºâ„ÄÇÁúãËµ∑‰æÜÂÉèÊôÆÈÄöË∂ÖÂ∏ÇÔºå‰ΩÜÊâìÈñãÂÜ∞ÁÆ±ÈñÄÊúÉÈÄöÂæÄÁï∞‰∏ñÁïå„ÄÇÂÖÖÊªø‰∫Ü‰∫íÂãïËóùË°ìÂíåËø∑ÂπªË£ùÁΩÆÔºåÈùûÂ∏∏ÈÅ©ÂêàÂπ¥Ëºï‰∫∫„ÄÇ" },
                { name: "Bellagio", tag: "Á∂ìÂÖ∏", desc: "ÈõªÂΩ±Ë£°ÁöÑÁ∂ìÂÖ∏Ê∞¥Ëàû„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÂ∞±ÊòØÈõªÂΩ±„ÄäÁûûÂ§©ÈÅéÊµ∑„ÄãÊúÄÂæåÂ§ßÂÆ∂ÁúãÊ∞¥ËàûÁöÑÂú∞Êñπ„ÄÇÈÇ£Á®ÆÂÑ™ÈõÖÁöÑÊ∞õÂúçÊòØË≥≠ÂüéÂÖ∂‰ªñÂú∞ÊñπÂ≠∏‰∏ç‰æÜÁöÑ„ÄÇË®òÂæóÈÄ≤ÂéªÁúãÊ∫´ÂÆ§Ëä±ÂúíÔºåÈÇ£‰∫õËä±ÈÉΩÊòØÁúüÁöÑÔºÅ" },
                { name: "Venetian", tag: "Â®ÅÂ∞ºÊñØ", desc: "ÂÅáÂ§©Á©∫ÂÅöÂæóÂ§™ÂÉèÁúüÁöÑ„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈõñÁÑ∂ÂæàÊµÆË™áÔºå‰ΩÜÈÇ£ÂÄãÂÆ§ÂÖßÈÅãÊ≤≥ÂíåÂÅáÂ§©Á©∫ÁúüÁöÑÂÅöÂæóÂ§™Â•Ω‰∫Ü„ÄÇÂú®ÈÅãÊ≤≥ÈÇäËÅΩËàπÂ§´Âî±Áæ©Â§ßÂà©Ê≠åÂäáÔºåÊ∞£Ê∞õÊªøÂàÜ„ÄÇ" },
                { name: "Circa Resort", tag: "Â§ß‰∫∫ÈôêÂÆö", desc: "Ê≤íÊúâÂ∞èÂ≠©ÁöÑÂø´Ê®ÇÂ§©Â†Ç„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØ Downtown ÊúÄÊñ∞ÁöÑË≥≠Â†¥ÔºåËÄå‰∏î‰∏çÊ∫ñÂ∞èÂ≠©ÈÄ≤ÂéªÔºÅÈ†ÇÊ®ìÁöÑ Stadium Swim ÊúâË∂ÖÂ§ßËû¢ÂπïÂèØ‰ª•ÈÇäÊ∏∏Ê≥≥ÈÇäÁúãÁêÉË≥ΩÔºåÈùûÂ∏∏ÁæéÂºèÈ¢®Ê†º„ÄÇ" },
                { name: "Resorts World", tag: "ÂêÉË≤®", desc: "‰∫ûÊ¥≤ÁæéÈ£üÂ§ßÈõÜÂêà„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÂ¶ÇÊûú‰Ω†Êá∑Âøµ‰∫ûÊ¥≤È£üÁâ©ÔºåÈÄôË£°‰∏ÄÂÆöË¶Å‰æÜ„ÄÇFamous Foods Street Eats ÈõÜÂêà‰∫ÜÂêÑÁ®Æ‰∫ûÊ¥≤Á±≥ÂÖ∂ÊûóÂ∞èÂêÉÔºåÂÉèÈ´òÁ¥öÁâàÁöÑÂ§úÂ∏Ç„ÄÇ" },
                { name: "The STRAT", tag: "Âà∫ÊøÄ", desc: "Âú®Â°îÈ†ÇÂ∞ñÂè´„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÂ¶ÇÊûú‰Ω†ËÜΩÂ≠êÂ§ßÔºåÈ†ÇÊ®ìÊúâÊá∏Á©∫Âú®Â°îÂ§ñÁöÑÈÅäÊ®ÇË®≠ÊñΩ„ÄÇÂ¶ÇÊûúËÜΩÂ≠êÂ∞èÔºåÂéªËßÄÊôØÂè∞ÂñùÊùØÈÖíÁúãÂ§úÊôØ‰πüÂæàÊ£í„ÄÇ" },
                { name: "Red Rock", tag: "ÊîæÈ¨Ü", desc: "ÈÅ†Èõ¢Â°µÂõÇÁöÑÂ∫¶ÂÅáÊÑü„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈÄôÊòØÂú®Âú∞ÊúâÈå¢‰∫∫ÂéªÁöÑÂú∞Êñπ„ÄÇÈõ¢ Strip ÊúâÊÆµË∑ùÈõ¢ÔºåÈù†ËøëÁ¥ÖÂ≤©Â≥ΩË∞∑ÔºåÊ∞õÂúçÈùûÂ∏∏ÊîæÈ¨ÜÈ´òÁ¥öÔºåÊ≤íÊúâÈÅäÂÆ¢ÁöÑÂñßÂõÇ„ÄÇ" },
                { name: "Wynn", tag: "Ëä±Âúí", desc: "Ëµ∞ÈÄ≤ÊÑõÈ∫óÁµ≤Â§¢ÈÅä‰ªôÂ¢É„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nËµ∞ÈÄ≤ Wynn Â∞±ÂÉèËµ∞ÈÄ≤‰∏ÄÂÄãÂ∑®Â§ßÁöÑËä±Âúí„ÄÇÊØèÊôöÁöÑ Lake of Dreams Ê∞¥ÂπïÁßÄÈõñÁÑ∂ÊÄ™ÊÄ™ÁöÑÔºàÊúâÂ∑®ÂûãÈùíËõôÂî±Ê≠åÔºâÔºå‰ΩÜÂÖçË≤ªÂèàÁâπÂà•„ÄÇ" },
                { name: "Cosmopolitan", tag: "Á∂≤Áæé", desc: "‰ΩèÂú®Ê∞¥Êô∂ÁáàË£°„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÂπ¥Ëºï‰∫∫ÁöÑÊúÄÊÑõ„ÄÇÈÇ£ÂÄãË≤´Á©ø‰∏âÂ±§Ê®ìÁöÑÊ∞¥Êô∂ÂêäÁáàÈÖíÂêß (Chandelier Bar) ÁµïÂ∞çÊòØÊãçÁÖßËÅñÂú∞„ÄÇË®òÂæóÂéª‰∫åÊ®ìÂêÉ Eggslut„ÄÇ" },
                { name: "Caesars Palace", tag: "ÊµÆË™á", desc: "ÈáçÂõûÂè§ÁæÖÈ¶¨„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÊÉ≥È´îÈ©óÈÄôÁ®ÆÊ•µËá¥ÁöÑÂ•¢ËèØÊµÆË™áÔºåÂ∞±‰æÜÈÄôË£°„ÄÇForum Shops Ë£°ÁöÑÊóãËΩâÊâãÊâ∂Ê¢ØÂíåÊúÉÂãïÁöÑÈõïÂÉèÁßÄÊòØÁ∂ìÂÖ∏„ÄÇ" },
                { name: "Paris", tag: "Êµ™Êº´", desc: "ÈêµÂ°î‰∏ãÁöÑÊôöÈ§ê„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈêµÂ°îËÖ≥Áõ¥Êé•ÊèíÈÄ≤Ë≥≠Â†¥Â±ãÈ†ÇÁöÑË®≠Ë®àÂ§™ÈÖ∑‰∫Ü„ÄÇÊé®Ëñ¶Âéª Mon Ami Gabi ÂêÉÈ£ØÔºåÂùêÂú®Êà∂Â§ñÂâõÂ•ΩÂèØ‰ª•ÁúãÂ∞çÈù¢ÁöÑ Bellagio Ê∞¥Ëàû„ÄÇ" },
                { name: "Luxor", tag: "Á•ûÁßò", desc: "ÈÄôÂÖâÊùüÁõ¥Â∞ÑÂÆáÂÆôÔºÅ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÂéªÔºü**\nÈõñÁÑ∂È£ØÂ∫óÊúâÈªûËàäÔºå‰ΩÜÈÇ£ÂÄãÁõ¥Â∞ÑÂÆáÂÆôÁöÑË∂ÖÁ¥öÂÖâÊùüÈÇÑÊòØÂæàÈúáÊíº„ÄÇËÄå‰∏î‰ΩèÂú®ÈáëÂ≠óÂ°îË£°ÔºåÈõªÊ¢ØÊòØÊñúËëóËµ∞ÁöÑÂñîÔºÅ" }
            ]},
            { category: "üé≠ Á≤æÂΩ©Ë°®Êºî", content: [
                { name: "MJ One", tag: "ÂøÖÁúã", desc: "ËÆì MJ Âæ©Ê¥ªÁöÑÁ•ûÂ•áÂ§ßÁßÄ„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÁúãÔºü**\nÂ∞±ÁÆó‰Ω†‰∏çÊòØ MJ ÈêµÁ≤â‰πüÊúÉË¢´ÈúáÊíº„ÄÇÊúÄÂæåÁöÑÂÖ®ÊÅØÊäïÂΩ±ÔºàHologramÔºâËÆì‰Ω†ÊÑüË¶∫ MJ ÁúüÁöÑÂæ©Ê¥ª‰∫ÜÂú®Âè∞‰∏äË∑≥ËàûÔºåÈÇ£Áû¨ÈñìÂÖ®Â†¥ÈÉΩÊúÉËµ∑ÈõûÁöÆÁñôÁò©„ÄÇ" },
                { name: "Magic Mike", tag: "Âó®Áøª", desc: "ÈÄô‰∏çÊòØËÑ´Ë°£ËàûÔºåÊòØÊ¥æÂ∞çÔºÅ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÁúãÔºü**\nÈÄô‰∏çÊòØÈÇ£Á®Æ‰Ωé‰øóÁöÑËÑ´Ë°£ËàûÁßÄÔºåËÄåÊòØ‰∏ÄÂ†¥„ÄåÁÇ∫‰∫ÜËÆìÂ•≥ÊÄßÈñãÂøÉ„ÄçË®≠Ë®àÁöÑÊ¥æÂ∞ç„ÄÇËàûËÄÖÂæàÂ∏•„ÄÅÂæàÊúÉË∑≥ÔºåËÄå‰∏îÈùûÂ∏∏Â∞äÈáç‰∫∫„ÄÇÊ∞£Ê∞õË∂ÖÁ¥öÂó®ÔºÅ" },
                { name: "X Country", tag: "ÁÜ±ÊÉÖ", desc: "ËøëË∑ùÈõ¢ÁöÑÁâõ‰ªîÁÜ±Ëàû„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÁúãÔºü**\nÂ¶ÇÊûú‰Ω†ÂñúÊ≠°ÈÑâÊùëÈü≥Ê®ÇÁöÑÊ¥ªÂäõÔºåÈÄôÂ†¥ÁßÄÂæàÈÅ©Âêà„ÄÇÂ†¥Âú∞ÂæàÂ∞èÔºå‰∫íÂãïÊÑüÂæàÂº∑ÔºåËàûËÄÖÈùûÂ∏∏Êï¨Ê•≠Â∞àÊ•≠„ÄÇ" },
                { name: "Fremont St", tag: "ÂÖçË≤ª", desc: "È†≠È†Ç‰∏äÁöÑË∂ÖÂ§ßËû¢Âπï„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÁúãÔºü**\nÈÄôÊòØË≥≠ÂüéÁöÑÁôºÊ∫êÂú∞ÔºåÊ∞£Ê∞õÊØî Strip Êõ¥ÁãÇÈáé‰∏ÄÈªû„ÄÇÈ†≠È†Ç‰∏äÊòØ‰∏ñÁïåÊúÄÂ§ßÁöÑËû¢ÂπïÔºåÊØèÂ∞èÊôÇÈÉΩÊúâÁáàÂÖâÁßÄÔºåË∑ØÈÇäÈÇÑÊúâÂêÑÁ®ÆÂ•áÊÄ™ÁöÑË°óÈ†≠Ëóù‰∫∫„ÄÇ" },
                { name: "Bellagio Fountains", tag: "ÂÖçË≤ª", desc: "Ë≥≠ÂüéÁöÑÈùàÈ≠Ç„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÁúãÔºü**\nÈÄôÁµïÂ∞çÊòØÊãâÊñØÁ∂≠Âä†ÊñØÁöÑÈùàÈ≠Ç„ÄÇ‰∏çÁÆ°ÁúãÂπæÊ¨°ÔºåÈÖçÂêàËëó Andrea Bocelli ÁöÑÊ≠åËÅ≤ÔºåÊ∞¥Êü±Ë°ù‰∏äÂ§©ÈöõÁöÑÊôÇÂÄôÈÇÑÊòØÊúÉÂæàÊÑüÂãï„ÄÇ" },
                { name: "Lake of Dreams", tag: "ÂÖçË≤ª", desc: "ÊúâÈªûÊÄ™‰ΩÜÂæàÈÖ∑„ÄÇ", info: "üí¨ **ÁÇ∫‰ªÄÈ∫ºË¶ÅÁúãÔºü**\nÈÄôÊòØ‰∏ÄÂÄãÂæàÂ•áÂπªÁöÑÂÖçË≤ªÁßÄ„ÄÇÂ∑®Â§ßÁöÑÁôΩËâ≤‰∫∫È†≠ÂæûÁÄëÂ∏ÉÂæåÊòáËµ∑‰æÜÔºåÈÖç‰∏äÁáàÂÖâÊäïÂΩ±ÔºåÊúâ‰∏ÄÁ®ÆË™™‰∏çÂá∫ÁöÑËø∑ÂπªÊÑü„ÄÇ" }
            ]},
            { category: "üéí Ë°åÂâç/ÊâìÂåÖ", id: "prep", content: [] }
        ];

        // --- PREP LIST DATA ---
        const prepItems = [
            "üÜî Ë≠∑ÁÖß / ID / ÈßïÁÖß",
            "üí≥ ‰ø°Áî®Âç° & ÁèæÈáë (Â∞èË≤ª)",
            "‚úàÔ∏è Ê©üÁ•® & Ë®ÇÊàøÁ¢∫Ë™çÂñÆ",
            "üß¥ ‰øùÊøï‰π≥Ê∂≤/Ë≠∑ÂîáËÜè (VegasË∂Ö‰πæ)",
            "üï∂Ô∏è Â§™ÈôΩÁúºÈè° & Èò≤Êõ¨",
            "üîå ÊâãÊ©üÂÖÖÈõªÂô® & Ë°åÂãïÈõªÊ∫ê",
            "üß• ÁæΩÁµ®Ë°£/Èò≤È¢®Â§ñÂ•ó (Zion/Bryce)",
            "ü•æ Â•ΩËµ∞ÁöÑÈûã/ÁôªÂ±±Èûã",
            "üß¢ ÊØõÂ∏Ω & ÊâãÂ•ó (BryceÊúÉÂÜ∑)",
            "üëô Ê≥≥Ë°£ (È£ØÂ∫óÊ≥≥Ê±†/Jacuzzi)",
            "üíä ÂÄã‰∫∫Ëó•ÂìÅ/ÊöàËªäËó•",
            "üó∫Ô∏è ‰∏ãËºâÈõ¢Á∑öÂú∞Âúñ (UtahÂçÄÂüü)",
            "üé´ Show ÁöÑÈñÄÁ•® (ÈõªÂ≠êÊ™î)",
            "ü¶∑ ÁâôÂà∑ÁâôËÜè (Êúâ‰∫õÈ£ØÂ∫ó‰∏ç‰∏ªÂãïÁµ¶)"
        ];

        // --- LOGIC ---
        function renderDays() {
            const scroller = document.querySelector('.day-scroller');
            scroller.innerHTML = '';
            daysData.forEach((day, index) => {
                const chip = document.createElement('div');
                chip.className = `day-chip ${index === 0 ? 'active' : ''} animate-item`;
                chip.onclick = () => switchDay(index);
                chip.innerHTML = `<span class="d-date">${day.date}</span><span class="d-week">${day.week}</span>`;
                scroller.appendChild(chip);
            });
            switchDay(0);
            
            // Start Countdown
            updateCountdown();
            setInterval(updateCountdown, 60000);
            
            // Render Prep List
            renderPrepList();
        }

        function updateCountdown() {
            const tripStart = new Date('2025-11-25T00:00:00-08:00');
            const now = new Date();
            const diff = tripStart - now;
            const banner = document.getElementById('countdown-banner');
            if(diff > 0) {
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                banner.innerText = `Ë∑ùÈõ¢Âá∫ÁôºÈÇÑÊúâ ${days}Â§© ${hours}Â∞èÊôÇ ‚úàÔ∏è`;
                banner.style.opacity = '1'; 
            } else if (diff > -7 * 24 * 60 * 60 * 1000) {
                banner.innerText = "ÊóÖÁ®ãÈÄ≤Ë°å‰∏≠ üéâ";
            } else {
                banner.style.display = 'none';
            }
        }

        function switchDay(index) {
            const data = daysData[index];
            document.getElementById('header-title').innerText = data.title;
            document.getElementById('header-subtitle').innerText = `${data.date} ${data.week}`;
            document.getElementById('header-subtitle').style.color = data.color;
            
            document.querySelectorAll('.day-chip').forEach((chip, idx) => {
                if (idx === index) { chip.classList.add('active'); chip.style.backgroundColor = data.color; } 
                else { chip.classList.remove('active'); chip.style.backgroundColor = 'rgba(255,255,255,0.9)'; }
            });

            document.documentElement.style.setProperty('--theme-color', data.color);
            document.getElementById('bg-itinerary').style.backgroundImage = `url('${data.bgImg}')`;

            const container = document.getElementById('day-content');
            
            // Scroll to top of itinerary content
            const itContent = document.getElementById('tab-itinerary');
            if(itContent) itContent.scrollTop = 0;

            let weatherGradient = `linear-gradient(135deg, ${data.color}dd 0%, ${data.color} 100%)`;
            if(data.color === "#27AE60") weatherGradient = "linear-gradient(135deg, #43cea2 0%, #185a9d 100%)";
            if(data.color === "#8E44AD") weatherGradient = "linear-gradient(135deg, #cc2b5e 0%, #753a88 100%)";
            
            let html = `
                <a href="${data.mapUrl}" target="_blank" class="map-btn-compact animate-item">
                    <i data-lucide="map-pin"></i> Êü•Áúã‰ªäÊó•Ë∑ØÁ∑öÂú∞Âúñ
                </a>
                
                <div id="day-weather-card" class="weather-detail-card animate-item" style="background: ${weatherGradient}">
                    <div class="wd-header">
                        <span class="wd-title"><i data-lucide="cloud-sun"></i> Êó©‰∏ä9Èªû - Êôö‰∏ä9Èªû</span>
                        <span class="wd-info" id="w-header-info">ÊúÄÈ´ò: --¬∞ | ÊúÄ‰Ωé: --¬∞</span>
                    </div>
                    <div class="wd-chart-container">
                        <svg class="wd-chart-svg" id="w-chart" viewBox="0 0 300 150">
                            <!-- Line and dots will be injected here -->
                        </svg>
                    </div>
                </div>
            `;

            if (data.shuttle) {
                html += `
                <div class="card shuttle-block animate-item" style="border-left: 5px solid ${data.color}">
                    <div class="shuttle-title" style="color:${data.color}"><i data-lucide="bus"></i> Èå´ÂÆâÊé•ÈßÅËªä</div>
                    <div class="shuttle-container"><h3 style="margin:0 0 5px; color:#27AE60; font-size:14px;">üü¢ Á∂†Á∑ö (ÂÖ¨ÂúíÂÖß)</h3><p style="font-size:12px; color:#666; margin:0;">ÈÅäÂÆ¢‰∏≠ÂøÉ ‚áÑ Temple of Sinawava</p></div>
                    <div class="shuttle-container"><h3 style="margin:0 0 5px; color:#E67E22; font-size:14px;">üü† Ê©òÁ∑ö (Â∏ÇÂçÄ)</h3><p style="font-size:12px; color:#666; margin:0;">Springdale ‚áÑ ÂÖ¨ÂúíÂÖ•Âè£</p></div>
                </div>`;
            }

            html += `<div class="card animate-item">`; 
            data.content.forEach((item) => {
                const safeName = item.name.replace(/'/g, "\\'").replace(/"/g, "&quot;"); 
                const safeDesc = item.desc.replace(/'/g, "\\'").replace(/"/g, "&quot;"); 
                const safeInfo = item.info.replace(/'/g, "\\'").replace(/"/g, "&quot;").replace(/\n/g, "\\n");
                html += `
                    <div class="place-item" onclick="openModal('${safeName}', '${safeDesc}', '${safeInfo}')">
                        <div class="place-header"><span class="place-name" style="color:${data.color}">${item.name}</span><span class="place-tag">${item.tag}</span></div>
                        <p class="place-desc">${item.desc}</p>
                    </div>`;
            });
            html += `</div>`;
            container.innerHTML = html;
            lucide.createIcons();
            fetchDetailedWeather(data.coords, data.fullDate);
            fetchCurrentWeather(data.coords, data.weatherLoc);
        }

        function renderGuideScroller() {
            const scroller = document.getElementById('guide-scroller');
            scroller.innerHTML = '';
            guideData.forEach((cat, index) => {
                const chip = document.createElement('div');
                chip.className = `guide-chip ${index === 0 ? 'active' : ''} animate-item`;
                chip.innerText = cat.category;
                chip.onclick = () => switchGuideCategory(index);
                scroller.appendChild(chip);
            });
            switchGuideCategory(0);
        }

        function switchGuideCategory(index) {
            const data = guideData[index];
            const chips = document.querySelectorAll('.guide-chip');
            chips.forEach((chip, idx) => {
                if (idx === index) chip.classList.add('active');
                else chip.classList.remove('active');
            });

            const container = document.getElementById('guide-content');
            
            // Handle "Prep" special case
            if (data.id === 'prep') {
                let html = `
                    <!-- Tips Card -->
                    <div class="card animate-item" style="margin-top:10px;">
                        <div class="place-item" onclick="openModal('Ë°åÂâçÈáçË¶ÅÊèêÈÜí', 'Âà•Âøò‰∫ÜÈÄô‰∫õÔºÅ', '1. ‰∏ãËºâÈõ¢Á∑öÂú∞ÂúñÔºö\\nÂúãÂÆ∂ÂÖ¨ÂúíÂÖß(Zion, Bryce)Â§ßÈÉ®ÂàÜÂú∞ÂçÄÂÆåÂÖ®Ê≤íÊúâË®äËôü„ÄÇÂá∫ÁôºÂâçË´ãÂú® Google Maps ‰∏ãËºâ„ÄåUtah„ÄçÂçÄÂüüÁöÑÈõ¢Á∑öÂú∞Âúñ„ÄÇ\\n\\n2. ÊôÇÂçÄËÆäÊèõÔºö\\nUtah (Áå∂‰ªñÂ∑û) ‰ΩøÁî® MST ÊôÇÈñìÔºåÊØî Las Vegas/Âä†Â∑û (PST) Âø´‰∏ÄÂ∞èÊôÇÔºÅÊâãÊ©üÊúÉËá™ÂãïË∑≥ËΩâÔºå‰ΩÜË´ãÁïôÊÑèÊâãÈå∂ÊôÇÈñìÔºåÈÅøÂÖçÈåØÈÅéÈ†êÁ¥Ñ„ÄÇ\\n\\n3. Á©øËëóÂª∫Ë≠∞Ôºö\\nBryce Canyon Êµ∑ÊãîÂæàÈ´òÔºåÈùûÂ∏∏ÂÜ∑ÔºàÂèØËÉΩ‰∏ãÈõ™ÔºâÔºåË´ãÂ∏∂ÁæΩÁµ®Ë°£„ÄÅÊØõÂ∏Ω„ÄÅÊâãÂ•ó„ÄÇVegas Êôö‰∏äÈ¢®Â§ß‰πüÂÅèÊ∂º„ÄÇ')">
                            <div class="place-header"><span class="place-name">üí° ÈáçË¶ÅÊèêÈÜí</span></div>
                            <p class="place-desc">Èõ¢Á∑öÂú∞Âúñ„ÄÅÊôÇÂçÄËÆäÊèõ„ÄÅÊ¥ãËî•ÂºèÁ©øÊê≠„ÄÇ</p>
                        </div>
                    </div>

                    <!-- Packing List Container -->
                    <div class="card animate-item">
                        <div class="packing-header">
                            <div class="place-header"><span class="place-name">üéí ÊâìÂåÖÊ∏ÖÂñÆ</span><span class="place-tag highlight" id="pack-count">0/0</span></div>
                            <div class="progress-container"><div class="progress-bar" id="pack-progress"></div></div>
                            <div class="progress-text"><span>ÂÆåÊàêÂ∫¶</span><span id="pack-percent">0%</span></div>
                        </div>
                        <div id="packing-list"></div>
                    </div>
                    <button class="btn-action animate-item" style="width:100%; justify-content:center; margin-top:20px; background:rgba(255,255,255,0.5);" onclick="resetPackingList(this)">ÈáçÁΩÆÊ∏ÖÂñÆ</button>
                `;
                container.innerHTML = html;
                renderPrepList(); // Populate checklist
                return;
            }

            // Normal Guide Card Rendering
            let html = `<div class="card animate-item" style="margin-top:10px;">`;
            data.content.forEach(item => {
                const safeName = item.name.replace(/'/g, "\\'").replace(/"/g, "&quot;"); 
                const safeDesc = item.desc.replace(/'/g, "\\'").replace(/"/g, "&quot;"); 
                const safeInfo = item.info.replace(/'/g, "\\'").replace(/"/g, "&quot;").replace(/\n/g, "\\n");
                html += `
                    <div class="place-item" onclick="openModal('${safeName}', '${safeDesc}', '${safeInfo}')">
                        <div class="place-header"><span class="place-name">${item.name}</span><span class="place-tag secondary">${item.tag}</span></div>
                        <p class="place-desc">${item.desc}</p>
                    </div>`;
            });
            html += `</div>`;
            container.innerHTML = html;
        }

        // --- PREP LIST LOGIC ---
        function renderPrepList() {
            const container = document.getElementById('packing-list');
            if(!container) return;
            container.innerHTML = '';
            
            const savedState = JSON.parse(localStorage.getItem('tripPrepState') || '{}');
            let checkedCount = 0;

            prepItems.forEach((item, index) => {
                const isChecked = savedState[index] || false;
                if(isChecked) checkedCount++;
                
                const div = document.createElement('div');
                div.className = `checkbox-item ${isChecked ? 'checked' : ''}`;
                div.onclick = () => toggleCheck(index);
                div.innerHTML = `
                    <div class="custom-checkbox"><i data-lucide="check" class="check-icon" size="16"></i></div>
                    <span class="place-name" style="font-size:15px; font-weight:500;">${item}</span>
                `;
                container.appendChild(div);
            });
            
            updateProgress(checkedCount, prepItems.length);
            lucide.createIcons();
        }

        function toggleCheck(index) {
            const savedState = JSON.parse(localStorage.getItem('tripPrepState') || '{}');
            savedState[index] = !savedState[index];
            localStorage.setItem('tripPrepState', JSON.stringify(savedState));
            renderPrepList();
        }

        function updateProgress(checked, total) {
            const percent = Math.round((checked / total) * 100);
            const bar = document.getElementById('pack-progress');
            const pText = document.getElementById('pack-percent');
            const count = document.getElementById('pack-count');
            
            if(bar) bar.style.width = `${percent}%`;
            if(pText) pText.innerText = `${percent}%`;
            if(count) count.innerText = `${checked}/${total}`;
        }

        function resetPackingList(btnElement) {
            if (btnElement.innerText === "ÈáçÁΩÆÊ∏ÖÂñÆ") {
                btnElement.innerText = "Á¢∫ÂÆöË¶ÅÈáçÁΩÆÔºü(ÈªûÊìäÁ¢∫Ë™ç)";
                btnElement.style.backgroundColor = "#ffeba1"; 
                btnElement.style.color = "#d35400";
                
                setTimeout(() => {
                    if (btnElement.innerText !== "ÈáçÁΩÆÊ∏ÖÂñÆ" && btnElement.innerText !== "Â∑≤ÂÆåÊàêÈáçÁΩÆ") {
                       btnElement.innerText = "ÈáçÁΩÆÊ∏ÖÂñÆ";
                       btnElement.style.backgroundColor = "rgba(255,255,255,0.5)";
                       btnElement.style.color = "var(--theme-color)";
                    }
                }, 3000);
                return;
            }

            localStorage.removeItem('tripPrepState');
            renderPrepList();
            
            btnElement.innerText = "Â∑≤ÂÆåÊàêÈáçÁΩÆ";
            btnElement.style.backgroundColor = "#d4edda";
            btnElement.style.color = "#155724";
            
            setTimeout(() => {
                btnElement.innerText = "ÈáçÁΩÆÊ∏ÖÂñÆ";
                btnElement.style.backgroundColor = "rgba(255,255,255,0.5)";
                btnElement.style.color = "var(--theme-color)";
            }, 1500);
        }

        function switchTab(tabId, el) {
            document.querySelectorAll('.content-area').forEach(div => div.classList.remove('active'));
            document.querySelectorAll('.tab-item').forEach(item => item.classList.remove('active'));
            document.querySelectorAll('.bg-image').forEach(bg => bg.classList.remove('active'));

            // Handle Weather Widget Visibility
            const weatherWidget = document.querySelector('.weather-widget');
            if (tabId === 'itinerary') {
                if(weatherWidget) {
                    weatherWidget.style.visibility = 'visible';
                    weatherWidget.style.opacity = '1';
                }
            } else {
                if(weatherWidget) {
                    weatherWidget.style.opacity = '0';
                    setTimeout(() => weatherWidget.style.visibility = 'hidden', 300);
                }
            }

            // Handle Themes
            if (tabId === 'itinerary') {
                document.getElementById('bg-itinerary').classList.add('active');
                const activeIndex = Array.from(document.querySelectorAll('.day-chip')).findIndex(c => c.classList.contains('active'));
                switchDay(activeIndex !== -1 ? activeIndex : 0);
            } else if (tabId === 'flights') {
                document.getElementById('bg-flights').classList.add('active');
                document.documentElement.style.setProperty('--theme-color', '#2980b9'); 
                document.getElementById('header-title').innerText = "‰∫§ÈÄöË≥áË®ä";
                document.getElementById('header-subtitle').innerText = "Flights & Car";
                document.getElementById('header-subtitle').style.color = '#2980b9';
            } else if (tabId === 'hotels') {
                document.getElementById('bg-hotels').classList.add('active');
                document.documentElement.style.setProperty('--theme-color', '#8e44ad'); 
                document.getElementById('header-title').innerText = "‰ΩèÂÆøÂÆâÊéí";
                document.getElementById('header-subtitle').innerText = "Hotels";
                document.getElementById('header-subtitle').style.color = '#8e44ad';
            } else if (tabId === 'guide') {
                document.getElementById('bg-guide').classList.add('active');
                document.documentElement.style.setProperty('--theme-color', '#27ae60'); 
                document.getElementById('header-title').innerText = "ÊóÖÈÅäÊåáÂçó";
                document.getElementById('header-subtitle').innerText = "Explore";
                document.getElementById('header-subtitle').style.color = '#27ae60';
                if(document.getElementById('guide-content').innerHTML === "") renderGuideScroller();
                if(document.getElementById('guide-scroller').children.length === 0) renderGuideScroller();
            } else if (tabId === 'prep') {
                document.getElementById('bg-prep').classList.add('active');
                document.documentElement.style.setProperty('--theme-color', '#e67e22');
                document.getElementById('header-title').innerText = "Ë°åÂâçÊ∫ñÂÇô";
                document.getElementById('header-subtitle').innerText = "Checklist";
                document.getElementById('header-subtitle').style.color = '#e67e22';
                renderPrepList(); // Ensure fresh render
            }

            document.getElementById('tab-' + tabId).classList.add('active');
            el.classList.add('active');
        }

        function openModal(title, subtitle, desc) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-desc').innerHTML = `<strong>${subtitle}</strong><br><br>${desc.replace(/\n/g, '<br>')}`;
            document.getElementById('detail-modal').classList.add('open');
        }
        function closeModal() { document.getElementById('detail-modal').classList.remove('open'); }

        async function fetchCurrentWeather(coords, locName) {
            const [lat, long] = coords.split(',');
            document.getElementById('current-loc').innerText = locName;
            try {
                const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${long}&current=temperature_2m&temperature_unit=celsius`;
                const res = await fetch(url); const json = await res.json();
                document.getElementById('current-temp').innerText = `${Math.round(json.current.temperature_2m)}¬∞C`;
            } catch (e) { console.error(e); }
        }

        async function fetchDetailedWeather(coords, dateStr) {
            const [lat, long] = coords.split(',');
            try {
                const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${long}&daily=temperature_2m_max,temperature_2m_min,sunset&hourly=temperature_2m&start_date=${dateStr}&end_date=${dateStr}&temperature_unit=celsius&timezone=auto`;
                const res = await fetch(url); 
                const json = await res.json();

                if(json.daily && json.daily.temperature_2m_max) {
                    const max = Math.round(json.daily.temperature_2m_max[0]);
                    const min = Math.round(json.daily.temperature_2m_min[0]);
                    let sunsetTime = "--:--";
                    if(json.daily.sunset && json.daily.sunset[0]) {
                        const dateObj = new Date(json.daily.sunset[0]);
                        let hours = dateObj.getHours();
                        const minutes = dateObj.getMinutes().toString().padStart(2, '0');
                        const ampm = hours >= 12 ? '‰∏ãÂçà' : '‰∏äÂçà';
                        hours = hours % 12;
                        hours = hours ? hours : 12; 
                        sunsetTime = `${ampm} ${hours}:${minutes}`;
                    }
                    const hlElement = document.getElementById('w-header-info');
                    if(hlElement) hlElement.innerText = `ÊúÄÈ´ò:${max}¬∞ ÊúÄ‰Ωé:${min}¬∞ | Êó•ËêΩ ${sunsetTime}`;
                }

                if(json.hourly && json.hourly.temperature_2m) {
                    const hours = json.hourly.temperature_2m.slice(9, 22); 
                    currentHourlyTemps = hours;
                    drawChart(hours);
                }
            } catch (e) { 
                console.error("Weather error", e); 
                const card = document.getElementById('day-weather-card');
                if(card) card.style.display = 'none'; 
            }
        }

        function drawChart(temps) {
            if (!temps) temps = currentHourlyTemps;
            if (!temps || temps.length === 0) return;

            const container = document.querySelector('.wd-chart-container');
            const svg = document.getElementById('w-chart');
            const w = container.getBoundingClientRect().width || 300;
            const h = 150;

            svg.innerHTML = '';
            svg.removeAttribute('preserveAspectRatio');
            svg.setAttribute('viewBox', `0 0 ${w} ${h}`);

            const padding = 15; 
            const minTemp = Math.min(...temps) - 1;
            const maxTemp = Math.max(...temps) + 1;
            const range = maxTemp - minTemp;

            let points = "";
            let circles = "";
            let labels = "";
            let timeLabels = "";
            let areaPath = `M ${padding},${h-20} `;
            const stepX = (w - padding * 2) / (temps.length - 1);

            temps.forEach((t, i) => {
                const x = padding + i * stepX;
                const graphBottom = h - 20; 
                const graphHeight = graphBottom - padding - 20; 
                const y = graphBottom - ((t - minTemp) / range) * graphHeight;
                
                points += `${x},${y} `;
                areaPath += `L ${x},${y} `;

                circles += `<circle cx="${x}" cy="${y}" r="3" class="chart-dot" />`;
                labels += `<text x="${x}" y="${y - 10}" class="chart-text">${Math.round(t)}¬∞</text>`;
                
                let timeVal = (9 + i);
                let displayTime = timeVal;
                if (timeVal > 12) displayTime -= 12;
                timeLabels += `<text x="${x}" y="${h - 5}" class="chart-label">${displayTime}ÊôÇ</text>`;
            });
            
            const lastX = padding + (temps.length - 1) * stepX;
            areaPath += `L ${lastX},${h-20} Z`;

            svg.innerHTML = `<path d="${areaPath}" class="chart-area" /><polyline points="${points}" class="chart-line" />${circles}${labels}${timeLabels}`;
        }

        window.addEventListener('resize', () => { drawChart(); });
        window.onload = renderDays;
    </script>
</body>
</html>
